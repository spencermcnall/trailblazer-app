
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <title>TrailBlazer Map</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />

        <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css" rel="stylesheet">
        <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.js"></script>
    </head>


<style>
body { margin: 0; 
       padding: 0; 
    }
#map { position: absolute; 
       top: 50px; 
       bottom: 0; 
       width: 100%; 
    }
#nav {
    margin:0;
    padding:0;
    height:50px; line-height:50px;
    background:#0d7963; 
    font-size:15px;
    /* color: white; */
    font-style:oblique;
}

#nav h3{
    padding-left: 30px;
    padding-top: 10px;
    color: white;
}

</style>

</head>
<body>
<div id ="nav">
    <h3 class="mx-auto my-0 text-uppercase">TrailBlazer</h3>
</div>
<div id="map"></div>
<script>
from pandas.io.json import json_normalize;
from geopy.geocoders import Nominatim; 
import requests;
    
navigator.geolocation.getCurrentPosition(position => {
  const { latitude, longitude } = position.coords;
  mapboxgl.accessToken = 'pk.eyJ1IjoiaGF5bGV5aGFkZ2VzIiwiYSI6ImNrdzB5M2docTd2eXkzMXMxcHAxcXV1NmMifQ.RpqjqIW44lhJYhcCr8fvIg';
const map = new mapboxgl.Map({
container: 'map', // container ID
style: 'mapbox://styles/hayleyhadges/ckw1009py0qw314qtoha4yzun', // style URL
center: [longitude, latitude],
zoom: 12 
});

});


const options = {
  method: 'GET',
  headers: {
    Accept: 'application/json',
    Authorization: 'fsq3GCMb/d+kMj+/PHwt/rpMzNAZfnD6PEm4kuAFNvXU1i8='
  }
};

fetch('https://api.foursquare.com/v3/places/search?ll=44.95%2C-93.2&categories=16000', options)
  .then(response => response.json())
  .then(response => console.log(response))
  .then(data => {
    for (const product of data.products) {
      let listItem = document.createElement('li');
      listItem.appendChild(
        document.createElement('strong')
      ).textContent = product.Name;
      listItem.append(
        ` can be found in ${
          product.Location
        }. Cost: `
      );
      listItem.appendChild(
        document.createElement('strong')
      ).textContent = `Â£${product.Price}`;
      myList.appendChild(listItem);
    }
  })
  .catch(err => console.error(err));



LIMIT = 100 
radius = 500 
url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(
    CLIENT_ID, 
    CLIENT_SECRET, 
    VERSION, 
    neighborhood_latitude, 
    neighborhood_longitude, 
    radius, 
    LIMIT)

results = requests.get(url).json()

	

</script>
 
</body>
</html>

